<div [attr.validate]="validate" [attr.data]="data" [attr.group]="group" [attr.data-child-of]="childrenOf">
    <!--JUI FORM builder component -->
    <app-legend *ngIf="data.legend" [classes]="data.legend.classes">
        {{data.legend.text}}
    </app-legend>
    <app-hint *ngIf="data.hint" [classes]="data.hint.classes">
        {{data.hint.text}}
    </app-hint>
    <!-- How do we show this only when a user has not clicked a checkbox?
    does the group, perhaps it is on the form itself?
        one of them link to a single control.
        one of them handles multiply controls on a form level.
        The app validation error label looks at the control level.
    -->

    <ng-container *ngIf="data.validationError && validate">
        <div>{{group | json}}</div>
        <app-validation-error-formgroup [group]="group" [validationErrorName]="'noCheckboxIsChecked'">
            {{data.validationError.value}}
        </app-validation-error-formgroup>
    </ng-container>
    <app-radiobutton *ngIf="data.radios" [classes]="'govuk-radios govuk-radios--inline'"
                     [items]="data.radios.radioGroup"
                     [group]="group"
                     [control]="data.radios.control"
                     [idPrefix]="data.radios.control"
                     [showValidation]="validate"
                     [validationError]="data.radios.validationError">
    </app-radiobutton>
    <div *ngIf="data.checkbox" class="govuk-checkboxes">
        <app-checkbox [group]="group"
                      [validate]="validate"
                      [idPrefix]="data.checkbox.control"
                      [items]="data.checkbox"
                      [classes]="'govuk-checkboxes__item'"
                      [labelClasses]="'govuk-label govuk-checkboxes__label'">
            <div class="govuk-form-group">
            <div *ngIf="data.checkbox.groups" class="govuk-checkboxes__conditional">
                    <ng-container  *ngFor="let subgroup of data.checkbox.groups">
                        <app-fieldset *ngIf="subgroup.fieldset"
                                      [validate]="validate"
                                      [classes]="'govuk-fieldset'"
                                      [group]="group"
                                      [data]="subgroup.fieldset"
                                      [childrenOf]="data.checkbox.control">
                        </app-fieldset>
                        <app-jui-form-elements [validate]="validate" [group]="group" [data]="subgroup" [childrenOf]="data.checkbox.control"></app-jui-form-elements>
                    </ng-container>
                </div>
            </div>
        </app-checkbox>
    </div>

    <app-textareas *ngIf="data.textarea" [classes]="'govuk-textarea'"
                    [showValidation]="validate"
                    [validationError]="data.textarea.validationError"
                    [group]="group"
                    [control]="data.textarea.control"
                    [label]="data.textarea.label"
                    [labelFor]="data.textarea.control"
                    [rows]="5">
    </app-textareas>
    <app-buttons *ngIf="data.button"
                 [classes]="'govuk-button'"
                 [typeBtn]="data.button.type"
                 [group]="group"
                 [control]="data.button.control"
                 [value]="data.button.value">
    </app-buttons>
    <!--JUI FORM builder component -->
</div>
